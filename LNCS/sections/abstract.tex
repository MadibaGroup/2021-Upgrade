% !TEX root = ../main.tex

\begin{abstract}
Smart contracts are codes deployed to the blockchain systems (e.g., Ethereum), which are supposed to be immutable and tamper-proof. On the other hand, the dynamic nature of software engineering necessitates a way to upgrade the code if the code is buggy or needs to add new features/functionalities. Over time, blockchain engineers find out the importance of adding upgradeability features to their Decentralized Applications (Dapps). The main challenges to add upgradeability is \textit{How} to add it and \textit{who} is authorized for the change (a.k.a \textit{admin}).

In this paper, we explore different upgradeability patterns used in the Ethereum blockchain and evaluate them to give developers better insight into the pros and cons of each pattern. We also proposed a novel way to find all contracts using the proxy pattern, the most-used upgradeability pattern in Ethereum, in the wild and apply the method to find proxy contracts on the Ethereum blockchain for a year. We also examine all proxy contracts collected from our first analysis to find their admin account. We show that half of the proxy contracts are controlled by a single address, and \%20 of them are controlled by multi-signature wallets in which a limited number of persons can change the whole logic of the system and take control.

%% Smart contracts are peices of codes that are deployed to the blockchain systems, to remove the barrier of trusting middleman to run specific logic. Ethereum is the first and mostly used public blockchain that introduced rich smart contracts that are not just limited to some specific scripts (like Bitcoin scripting language). Smart contracts are supposed to be immutable and tamper proof which means the code cannot be changed just after deployment to the blockchain. This feature of smart contracts are in contrast with Software Engineering idealogy, because codes are prone to bugs and also new features and functionalities need to be added to the software.
%% During the time, huge hacks happened to Ethereum smart contracts (e.g. DAO hack) which brought developers to rethink about the immutability and find ways to change the smart contracts after deployment to the blockchain. Two main questions in this regard is \textit{how to add upgradeability to the smart contract?} and \textit{who is responsible to enforce changes to the system?}.

%% In this paper we explore how developers torture an immutable blockchain into allowing smart contracts to be upgraded. To answer the first question we investigate all different patterns in the wild that bring upgradeability feature to Ethereum smart contracts. Then we evaluate each pattern to give developers insight that which pattern is proper for their Decentralized Application (Dapp) and the pros and cons of each pattern. The most used upgradeability pattern in Ethereum blockchain right now is called \textbf{Proxy Patterns}.
%% In the later part of the paper we proposed a novel way to find smart contracts that use Proxy Patterns to add upgradeability feature by investigating all transactions confirmed to the Ethereum blockchain for a period of one year starting from September 2020. 

%% To answer the second question we examine all proxy contracts we have collected from the previous analysis, to find their \textit{admin account}, the agent authorized to upgrade the system, and find their admin type; Externlly Owned address (EOA) in which one person can decide to change the system, Multi-Signature Wallets in which limited number of persons can change the system and Decentralized Governance models. The first two admin types are bring risks to the system and these are against the sprit of decentralization in blockchain space. 

\end{abstract}